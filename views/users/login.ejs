<!DOCTYPE html>
<html lang="en">

<%- include('../partials/head.ejs', { title: "Iniciar sesión"}) %>



<script src = "./js/loginValidation.js" ></script>
    <body>
        <%- include('../partials/header.ejs') %>
            <main>
                <div class="main-register-login">
                    <h2 class="titulo-registro">Accedé a tu cuenta</h2>
                    <form action="/login" method="POST" class="formulario login">
                        <div class="registro-campos login">
                            <label for="email">E-email</label>
                            <input type="text" name="email" id="email" class="input login  <%= locals.errors && errors.email ? 'is-invalid': null %>">
                            <p  id="error" style="display: none"> El mail es obligatorio!</p>
                            <% if (locals.errors && errors.email) { %>
                                <div class="text-danger">
                                    <%= errors.email.msg %>
                                </div>
                                <% } %>
                        </div>
                        <div class="registro-campos login">
                            <label for="password">Contraseña</label>
                            <input type="password" name="password" id="password" class="input login">
                            <p  id="error" style="display: none"> El password es obligatorio!</p> 
                        </div>
                        <div class="check">
                            <input type="checkbox" name="recordame" id="recordame">
                            <label for="recordame">Recordame</label>
                        </div>
                        <div class="botones">
                            <button type="submit" class="registro-boton login">ENTRAR</button>
                        </div>
                        <div>
                            <% if (typeof errors != 'undefined'){ %>
                                <p style="color:red"> UPS!</p>
                                <ul>
                                    <% for(let i =0;i<errors.length;i++){ %>
                                        <li>
                                            <%=  errors[i].msg %>
                                        </li>
                                        <% } %>
                                </ul>
                                <% } %>
                        </div>
                        <div>
                            <p  id="error" style="display: none"> El mail es obligatorio!</p> 
                        </div>
                        <div class="no-registrado">
                            <p>¿No estás registrado?</p>
                            <p>
                                <a href="/registro">Registrate aquí.</a>
                            </p>
                        </div>
                    </form>
                </div>
            </main>
            <%- include('../partials/footer.ejs') %>
    </body>

</html>